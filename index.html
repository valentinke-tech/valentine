<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ –¥–ª—è –î–∞—à—É–ª–∏</title>
  <style>
    :root { --bg1:#ffeff6; --bg2:#ffe3ee; --text:#2b2b2b; }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      color:var(--text);
    }
    .card{
      width:min(560px, 92vw);
      background: rgba(255,255,255,.8);
      backdrop-filter: blur(8px);
      border-radius: 24px;
      padding: 28px 22px;
      box-shadow: 0 12px 40px rgba(0,0,0,.12);
      text-align:center;
      position:relative;
      overflow:hidden;
      z-index: 1;
    }
    h1{ margin:0 0 14px; font-size: clamp(22px, 4.2vw, 34px); }
    p{ margin:0 0 18px; opacity:.85; }
    .btns{
      display:flex; gap:12px; justify-content:center; flex-wrap:wrap;
      margin-top: 10px;
    }
    button{
      border:0; cursor:pointer;
      padding: 12px 18px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 16px;
      transition: transform .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    button:active{ transform: scale(.98); }
    #yes{
      background: #ff3b7a;
      color:white;
      box-shadow: 0 10px 18px rgba(255,59,122,.25);
    }
    #no{
      background: #ececec;
      color:#333;
    }
    .hint{
      margin-top:14px; min-height: 24px;
      font-size: 14px; opacity:.85;
    }
    .gifWrap{
      display:none;
      margin-top:18px;
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 12px 28px rgba(0,0,0,.14);
    }
    .gifWrap img{ width:100%; height:auto; display:block; }
    .small{
      margin-top:14px;
      font-size: 12px;
      opacity:.6;
    }
    .hearts{
      position:absolute; inset:0; pointer-events:none; opacity:.35;
      background:
        radial-gradient(circle at 10% 10%, #ff3b7a 0 2px, transparent 3px),
        radial-gradient(circle at 90% 20%, #ff3b7a 0 2px, transparent 3px),
        radial-gradient(circle at 30% 80%, #ff3b7a 0 2px, transparent 3px),
        radial-gradient(circle at 70% 70%, #ff3b7a 0 2px, transparent 3px);
      filter: blur(.2px);
    }

    /* –î–ª—è "—É–±–µ–≥–∞—é—â–µ–π" –∫–Ω–æ–ø–∫–∏ */
    .arena { position:relative; height: 170px; margin-top: 8px; }
    .arena .btns { position:absolute; left:0; right:0; top:0; }
    .arena.moving #no { position:absolute; }

    /* Confetti canvas */
    #confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>

  <canvas id="confetti"></canvas>

  <div class="card">
    <div class="hearts"></div>

    <h1>–î–∞—à—É–ª—è, –±—É–¥–µ—à—å –ª–∏ –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíò</h1>
    <p>–®–∞—Ä–∏—à—å üíñ</p>

    <div class="arena" id="arena">
      <div class="btns" id="btns">
        <button id="yes">–î–∞ üíñ</button>
        <button id="no">–ù–µ—Ç üôÉ</button>
      </div>
    </div>

    <div class="hint" id="hint"></div>

    <div class="gifWrap" id="gifWrap">
      <img id="gif" alt="gif"
        src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif">
    </div>

    <div class="small">P.S. –ö–Ω–æ–ø–∫–∞ ¬´–ù–µ—Ç¬ª –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ üòÑ</div>
  </div>

  <script>
    const yes = document.getElementById('yes');
    const no = document.getElementById('no');
    const hint = document.getElementById('hint');
    const gifWrap = document.getElementById('gifWrap');
    const arena = document.getElementById('arena');
    const btns = document.getElementById('btns');

    // –ú–µ–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ "–ù–µ—Ç"
    const lines = [
      "–û—à–∏–±–∫–∞ 404: ¬´–ù–µ—Ç¬ª –Ω–µ –Ω–∞–π–¥–µ–Ω–æ",
      "–¢—ã —Å–µ—Ä—å—ë–∑–Ω–æ —Å–µ–π—á–∞—Å? üòê",
      "–ê–•–ê–•, –Ω–µ –≤ —ç—Ç–æ—Ç —Ä–∞–∑",
      "–ö–Ω–æ–ø–∫–∞ ¬´–ù–µ—Ç¬ª —É—à–ª–∞ –∑–∞ —Ö–ª–µ–±–æ–º",
      "–ü–æ–ø—ã—Ç–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞, –Ω–æ –Ω–µ—Ç",
      "–°–∏—Å—Ç–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ ¬´–î–∞¬ª",
      "–ù—É —Ç—ã —á–µ–≥–æ üòÑ",
      "–°–ª–∏—à–∫–æ–º –ø–æ–∑–¥–Ω–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è"
    ];

    let noClicks = 0;

    function rand(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function moveNoButton(){
      arena.classList.add('moving');

      const a = arena.getBoundingClientRect();
      const b = no.getBoundingClientRect();

      const padding = 10;
      const maxX = Math.max(padding, (a.width - b.width - padding));
      const maxY = Math.max(padding, (a.height - b.height - padding));

      const x = rand(padding, maxX);
      const y = rand(padding, maxY);

      no.style.left = x + "px";
      no.style.top  = y + "px";
    }

    function setHint(){
      hint.textContent = lines[rand(0, lines.length - 1)];
    }

    const scare = () => {
      noClicks++;
      setHint();
      moveNoButton();

      // –º–µ–º-—ç—Ñ—Ñ–µ–∫—Ç—ã
      const scale = Math.min(1 + noClicks * 0.08, 1.8);
      yes.style.transform = `scale(${scale})`;

      if (navigator.vibrate) navigator.vibrate(40);

      // –ø–æ—Å–ª–µ 5 –ø–æ–ø—ã—Ç–æ–∫ "–ù–µ—Ç" –Ω–∞—á–∏–Ω–∞–µ—Ç —Å–¥–∞–≤–∞—Ç—å—Å—è
      if (noClicks === 5) {
        no.textContent = "–õ–∞–¥–Ω–æ, –î–ê üò≥";
        no.style.background = "#ff3b7a";
        no.style.color = "white";
      }
    };

    // –ü–ö ‚Äî –∫—É—Ä—Å–æ—Ä
    no.addEventListener('mouseenter', scare);

    // –¢–µ–ª–µ—Ñ–æ–Ω ‚Äî –ø–∞–ª–µ—Ü –ø–æ—á—Ç–∏ –Ω–∞–∂–∞–ª üòà
    no.addEventListener('touchstart', (e) => {
      e.preventDefault();
      scare();
    }, { passive: false });

    // –ï—Å–ª–∏ –∫–∞–∫–∏–º-—Ç–æ —á—É–¥–æ–º –∫–ª–∏–∫–Ω—É–ª–∏
    no.addEventListener('click', (e) => {
      e.preventDefault();
      scare();
    });

    // ===== Confetti (–±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫) =====
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function launchConfetti(durationMs = 1800) {
      const pieces = [];
      const count = 180;
      const colors = ['#ff3b7a', '#ffd166', '#06d6a0', '#118ab2', '#8338ec'];

      for (let i = 0; i < count; i++) {
        pieces.push({
          x: canvas.width / 2,
          y: canvas.height / 2,
          w: Math.random() * 10 + 6,
          h: Math.random() * 6 + 4,
          color: colors[Math.floor(Math.random() * colors.length)],
          vx: (Math.random() * 10 - 5),
          vy: (Math.random() * -12 - 6),
          rot: Math.random() * Math.PI,
          vr: (Math.random() * 0.25 - 0.125),
          g: 0.35,
          life: Math.random() * 30 + 60
        });
      }

      const start = performance.now();

      function frame(now) {
        const t = now - start;
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        for (const p of pieces) {
          p.vy += p.g;
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;
          p.life -= 1;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        }

        // —É–±–∏—Ä–∞–µ–º "—É–º–µ—Ä—à–∏–µ" —á–∞—Å—Ç–∏—Ü—ã
        for (let i = pieces.length - 1; i >= 0; i--) {
          if (pieces[i].life <= 0 || pieces[i].y > canvas.height + 40) pieces.splice(i, 1);
        }

        if (t < durationMs && pieces.length > 0) {
          requestAnimationFrame(frame);
        } else {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
      }

      requestAnimationFrame(frame);
    }

    // ===== –ü—Ä–∏ "–î–∞" =====
    yes.addEventListener('click', () => {
      hint.textContent = "–£–†–ê–ê–ê! üíñüíñüíñ";
      launchConfetti(2000);
      gifWrap.style.display = "block";

      // –≤—ã–∫–ª—é—á–∞–µ–º –∞—Ä–µ–Ω—É
      arena.classList.remove('moving');
      no.style.position = "";
      no.style.left = "";
      no.style.top = "";
      btns.style.display = "none";
    });

    hint.textContent = "–ù–∞–∂–º–∏ ¬´–î–∞¬ª üôÇ";
  </script>
</body>
</html>
